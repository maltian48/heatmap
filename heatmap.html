<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cal-Heatmap Example</title>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.css" />
  <style>
    html, body {
      background-color: #000 !important; /* Force black background */
      color: #fff !important;           /* White text */
      margin: 0;
      padding: 1rem;
      font-family: sans-serif;
      height: 100%;
    }

    h2 {
      color: #00d1b2; /* Optional: Highlighted heading */
    }

    #cal-heatmap {
      width: 100%;
      height: auto;
    }

    .ch-tooltip {
      background-color: #222 !important;
      color: #fff !important;
      border: 1px solid #444 !important;
    }
  </style>
</head>
<body>
  <h2>Detection Frequency Heatmap</h2>
  <div id="cal-heatmap"></div>

  <script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.min.js"></script>
  <script>
    // Generate dummy data for the entire year
    var datas = {};
    var startDate = new Date(new Date().getFullYear(), 0, 1); // Start of the year
    var endDate = new Date(new Date().getFullYear(), 11, 31); // End of the year

    for (var date = startDate; date <= endDate; date.setDate(date.getDate() + 1)) {
      var timestamp = Math.floor(date.getTime() / 1000); // Convert to UNIX timestamp
      var frequency = Math.floor(Math.random() * 7) + 1; // Random value between 1 and 7
      datas[timestamp] = frequency; // Assign frequency to the timestamp
    }

    var calendar = new CalHeatMap();
    calendar.init({
      data: datas,
      start: new Date(new Date().getFullYear(), 0, 1), // Start from January
      domain: "year",
      subDomain: "day",
      range: 1,
      cellSize: 15,
      legend: [1, 3, 5, 7],
      cellLabel: {
        empty: "No data on {date}",
        filled: "{count} detection(s) on {date}"
      },
      legendTitleFormat: {
        'lower': 'No data available for the selected year',
        'upper': 'No data available for the selected year'
      },
      legendColors: {
        min: "#0f0",       // Green for low
        max: "#f00",       // Red for high
        empty: "#222"      // Dark gray for no data
      },
      considerMissingDataAsZero: true,
      tooltip: true
    });
  </script>
</body>
</html>
